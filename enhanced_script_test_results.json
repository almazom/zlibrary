[
  {
    "test_case": {
      "input": "https://www.podpisnie.ru/books/maniac/",
      "expected_format": "url",
      "expectation": "HIGH",
      "description": "Maniac URL from podpisnie.ru"
    },
    "execution_result": {
      "success": true,
      "stdout": "{\n  \"status\": \"success\",\n  \"timestamp\": \"2025-08-08T16:15:47.521244\",\n  \"input_format\": \"url\",\n  \"query_info\": {\n    \"original_input\": \"https://www.podpisnie.ru/books/maniac/\",\n    \"extracted_query\": \"maniac\"\n  },\n  \"result\": {\n    \"found\": true,\n    \"epub_download_url\": null,\n    \"download_info\": {\n      \"available\": false,\n      \"url\": null\n    },\n    \"confidence\": {\n      \"score\": 1.0,\n      \"level\": \"VERY_HIGH\",\n      \"description\": \"\u041e\u0447\u0435\u043d\u044c \u0432\u044b\u0441\u043e\u043a\u0430\u044f \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u043e\u0441\u0442\u044c - \u044d\u0442\u043e \u0442\u043e\u0447\u043d\u043e \u0438\u0441\u043a\u043e\u043c\u0430\u044f \u043a\u043d\u0438\u0433\u0430\",\n      \"recommended\": true\n    },\n    \"readability\": {\n      \"score\": 0.85,\n      \"level\": \"EXCELLENT\",\n      \"description\": \"\u041e\u0442\u043b\u0438\u0447\u043d\u043e\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e - \u0432\u044b\u0441\u043e\u043a\u043e\u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 EPUB\",\n      \"factors\": [\n        \"Recent publication (2023)\",\n        \"Quality author info: Benjam\u00edn Labatut\",\n        \"Detailed description available\"\n      ]\n    },\n    \"book_info\": {\n      \"title\": \"Maniac\",\n      \"authors\": [\n        \"Benjam\u00edn Labatut\"\n      ],\n      \"year\": \"2023\",\n      \"publisher\": \"Anagrama\",\n      \"size\": \"576 KB\",\n      \"description\": \"Una novela vertiginosa sobre los l\u00edmites del pensamiento y los delirios de la raz\u00f3n.Un inquietante tr\u00edptico sobre los sue\u00f1os del siglo XX y las pesadillas del siglo XXI, MANIAC explora los l\u00edmites de \"\n    },\n    \"service_used\": \"zlibrary\"\n  }\n}\n",
      "stderr": "",
      "returncode": 0,
      "parsed_json": {
        "status": "success",
        "timestamp": "2025-08-08T16:15:47.521244",
        "input_format": "url",
        "query_info": {
          "original_input": "https://www.podpisnie.ru/books/maniac/",
          "extracted_query": "maniac"
        },
        "result": {
          "found": true,
          "epub_download_url": null,
          "download_info": {
            "available": false,
            "url": null
          },
          "confidence": {
            "score": 1.0,
            "level": "VERY_HIGH",
            "description": "\u041e\u0447\u0435\u043d\u044c \u0432\u044b\u0441\u043e\u043a\u0430\u044f \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u043e\u0441\u0442\u044c - \u044d\u0442\u043e \u0442\u043e\u0447\u043d\u043e \u0438\u0441\u043a\u043e\u043c\u0430\u044f \u043a\u043d\u0438\u0433\u0430",
            "recommended": true
          },
          "readability": {
            "score": 0.85,
            "level": "EXCELLENT",
            "description": "\u041e\u0442\u043b\u0438\u0447\u043d\u043e\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e - \u0432\u044b\u0441\u043e\u043a\u043e\u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 EPUB",
            "factors": [
              "Recent publication (2023)",
              "Quality author info: Benjam\u00edn Labatut",
              "Detailed description available"
            ]
          },
          "book_info": {
            "title": "Maniac",
            "authors": [
              "Benjam\u00edn Labatut"
            ],
            "year": "2023",
            "publisher": "Anagrama",
            "size": "576 KB",
            "description": "Una novela vertiginosa sobre los l\u00edmites del pensamiento y los delirios de la raz\u00f3n.Un inquietante tr\u00edptico sobre los sue\u00f1os del siglo XX y las pesadillas del siglo XXI, MANIAC explora los l\u00edmites de "
          },
          "service_used": "zlibrary"
        }
      }
    },
    "execution_time": 4.007462739944458,
    "schema_valid": true,
    "format_correct": true,
    "confidence_analysis": "MISMATCH",
    "overall_status": "PARTIAL",
    "schema_message": "Schema valid",
    "confidence_message": "Expected HIGH, got VERY_HIGH"
  },
  {
    "test_case": {
      "input": "https://www.podpisnie.ru/books/misticheskiy-mir-novalisa-filosofiya-traditsiya-poetika-poetika-monografiya/",
      "expected_format": "url",
      "expectation": "LOW",
      "description": "Complex Novalis URL"
    },
    "execution_result": {
      "success": true,
      "stdout": "{\n  \"status\": \"error\",\n  \"timestamp\": \"2025-08-08T16:15:51.500786\",\n  \"input_format\": \"url\",\n  \"query_info\": {\n    \"original_input\": \"https://www.podpisnie.ru/books/misticheskiy-mir-novalisa-filosofiya-traditsiya-poetika-poetika-monografiya/\",\n    \"extracted_query\": \"https://www.podpisnie.ru/books/misticheskiy-mir-novalisa-filosofiya-traditsiya-poetika-poetika-monografiya/\"\n  },\n  \"result\": {\n    \"error\": \"enhanced_service_error\",\n    \"message\": \"Enhanced service error: 'NoneType' object has no attribute 'lower'\"\n  }\n}\n",
      "stderr": "",
      "returncode": 0,
      "parsed_json": {
        "status": "error",
        "timestamp": "2025-08-08T16:15:51.500786",
        "input_format": "url",
        "query_info": {
          "original_input": "https://www.podpisnie.ru/books/misticheskiy-mir-novalisa-filosofiya-traditsiya-poetika-poetika-monografiya/",
          "extracted_query": "https://www.podpisnie.ru/books/misticheskiy-mir-novalisa-filosofiya-traditsiya-poetika-poetika-monografiya/"
        },
        "result": {
          "error": "enhanced_service_error",
          "message": "Enhanced service error: 'NoneType' object has no attribute 'lower'"
        }
      }
    },
    "execution_time": 3.9676036834716797,
    "schema_valid": true,
    "format_correct": true,
    "confidence_analysis": "N/A",
    "overall_status": "FAIL",
    "schema_message": "Schema valid",
    "confidence_message": "Response not successful"
  },
  {
    "test_case": {
      "input": "Harry Potter philosopher stone",
      "expected_format": "txt",
      "expectation": "VERY_HIGH",
      "description": "Popular book with exact title"
    },
    "execution_result": {
      "success": true,
      "stdout": "{\n  \"status\": \"success\",\n  \"timestamp\": \"2025-08-08T16:15:55.491060\",\n  \"input_format\": \"txt\",\n  \"query_info\": {\n    \"original_input\": \"Harry Potter philosopher stone\",\n    \"extracted_query\": \"Harry Potter philosopher stone\"\n  },\n  \"result\": {\n    \"found\": true,\n    \"epub_download_url\": null,\n    \"download_info\": {\n      \"available\": false,\n      \"url\": null\n    },\n    \"confidence\": {\n      \"score\": 1.0,\n      \"level\": \"VERY_HIGH\",\n      \"description\": \"\u041e\u0447\u0435\u043d\u044c \u0432\u044b\u0441\u043e\u043a\u0430\u044f \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u043e\u0441\u0442\u044c - \u044d\u0442\u043e \u0442\u043e\u0447\u043d\u043e \u0438\u0441\u043a\u043e\u043c\u0430\u044f \u043a\u043d\u0438\u0433\u0430\",\n      \"recommended\": true\n    },\n    \"readability\": {\n      \"score\": 1.0,\n      \"level\": \"EXCELLENT\",\n      \"description\": \"\u041e\u0442\u043b\u0438\u0447\u043d\u043e\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e - \u0432\u044b\u0441\u043e\u043a\u043e\u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 EPUB\",\n      \"factors\": [\n        \"Quality publisher: Pottermore P\",\n        \"Complete title suggests proper metadata\",\n        \"Quality author info: J. K. Rowling\",\n        \"Detailed description available\"\n      ]\n    },\n    \"book_info\": {\n      \"title\": \"Harry Potter and the Philosopher's Stone #1\",\n      \"authors\": [\n        \"J. K. Rowling\"\n      ],\n      \"year\": \"1997\",\n      \"publisher\": \"Pottermore P\",\n      \"size\": \"761 KB\",\n      \"description\": \"Rescued from the outrageous neglect of his aunt and uncle, a young boy with a great destiny proves his worth while attending Hogwarts School of Witchcraft and Wizardry.\"\n    },\n    \"service_used\": \"zlibrary\"\n  }\n}\n",
      "stderr": "",
      "returncode": 0,
      "parsed_json": {
        "status": "success",
        "timestamp": "2025-08-08T16:15:55.491060",
        "input_format": "txt",
        "query_info": {
          "original_input": "Harry Potter philosopher stone",
          "extracted_query": "Harry Potter philosopher stone"
        },
        "result": {
          "found": true,
          "epub_download_url": null,
          "download_info": {
            "available": false,
            "url": null
          },
          "confidence": {
            "score": 1.0,
            "level": "VERY_HIGH",
            "description": "\u041e\u0447\u0435\u043d\u044c \u0432\u044b\u0441\u043e\u043a\u0430\u044f \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u043e\u0441\u0442\u044c - \u044d\u0442\u043e \u0442\u043e\u0447\u043d\u043e \u0438\u0441\u043a\u043e\u043c\u0430\u044f \u043a\u043d\u0438\u0433\u0430",
            "recommended": true
          },
          "readability": {
            "score": 1.0,
            "level": "EXCELLENT",
            "description": "\u041e\u0442\u043b\u0438\u0447\u043d\u043e\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e - \u0432\u044b\u0441\u043e\u043a\u043e\u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 EPUB",
            "factors": [
              "Quality publisher: Pottermore P",
              "Complete title suggests proper metadata",
              "Quality author info: J. K. Rowling",
              "Detailed description available"
            ]
          },
          "book_info": {
            "title": "Harry Potter and the Philosopher's Stone #1",
            "authors": [
              "J. K. Rowling"
            ],
            "year": "1997",
            "publisher": "Pottermore P",
            "size": "761 KB",
            "description": "Rescued from the outrageous neglect of his aunt and uncle, a young boy with a great destiny proves his worth while attending Hogwarts School of Witchcraft and Wizardry."
          },
          "service_used": "zlibrary"
        }
      }
    },
    "execution_time": 4.38919472694397,
    "schema_valid": true,
    "format_correct": true,
    "confidence_analysis": "EXACT_MATCH",
    "overall_status": "PASS",
    "schema_message": "Schema valid",
    "confidence_message": "Expected VERY_HIGH, got VERY_HIGH"
  },
  {
    "test_case": {
      "input": "Clean Code Robert Martin programming",
      "expected_format": "txt",
      "expectation": "HIGH",
      "description": "Programming book with author"
    },
    "execution_result": {
      "success": true,
      "stdout": "{\n  \"status\": \"success\",\n  \"timestamp\": \"2025-08-08T16:15:59.860371\",\n  \"input_format\": \"txt\",\n  \"query_info\": {\n    \"original_input\": \"Clean Code Robert Martin programming\",\n    \"extracted_query\": \"Clean Code Robert Martin programming\"\n  },\n  \"result\": {\n    \"found\": true,\n    \"epub_download_url\": null,\n    \"download_info\": {\n      \"available\": false,\n      \"url\": null\n    },\n    \"confidence\": {\n      \"score\": 1.0,\n      \"level\": \"VERY_HIGH\",\n      \"description\": \"\u041e\u0447\u0435\u043d\u044c \u0432\u044b\u0441\u043e\u043a\u0430\u044f \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u043e\u0441\u0442\u044c - \u044d\u0442\u043e \u0442\u043e\u0447\u043d\u043e \u0438\u0441\u043a\u043e\u043c\u0430\u044f \u043a\u043d\u0438\u0433\u0430\",\n      \"recommended\": true\n    },\n    \"readability\": {\n      \"score\": 1.0,\n      \"level\": \"EXCELLENT\",\n      \"description\": \"\u041e\u0442\u043b\u0438\u0447\u043d\u043e\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e - \u0432\u044b\u0441\u043e\u043a\u043e\u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 EPUB\",\n      \"factors\": [\n        \"Large file (8.38 MB) suggests high quality\",\n        \"Quality publisher: Pearson Education\",\n        \"Complete title suggests proper metadata\",\n        \"Quality author info: Martin, Robert C.\"\n      ]\n    },\n    \"book_info\": {\n      \"title\": \"The Robert C. Martin Clean Code Collection (Collection) (Robert C. Martin Series)\",\n      \"authors\": [\n        \"Martin\",\n        \"Robert C.\",\n        \"Computers - Enterprise Computing Systems\"\n      ],\n      \"year\": \"2011\",\n      \"publisher\": \"Pearson Education\",\n      \"size\": \"8.38 MB\",\n      \"description\": null\n    },\n    \"service_used\": \"zlibrary\"\n  }\n}\n",
      "stderr": "",
      "returncode": 0,
      "parsed_json": {
        "status": "success",
        "timestamp": "2025-08-08T16:15:59.860371",
        "input_format": "txt",
        "query_info": {
          "original_input": "Clean Code Robert Martin programming",
          "extracted_query": "Clean Code Robert Martin programming"
        },
        "result": {
          "found": true,
          "epub_download_url": null,
          "download_info": {
            "available": false,
            "url": null
          },
          "confidence": {
            "score": 1.0,
            "level": "VERY_HIGH",
            "description": "\u041e\u0447\u0435\u043d\u044c \u0432\u044b\u0441\u043e\u043a\u0430\u044f \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u043e\u0441\u0442\u044c - \u044d\u0442\u043e \u0442\u043e\u0447\u043d\u043e \u0438\u0441\u043a\u043e\u043c\u0430\u044f \u043a\u043d\u0438\u0433\u0430",
            "recommended": true
          },
          "readability": {
            "score": 1.0,
            "level": "EXCELLENT",
            "description": "\u041e\u0442\u043b\u0438\u0447\u043d\u043e\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e - \u0432\u044b\u0441\u043e\u043a\u043e\u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 EPUB",
            "factors": [
              "Large file (8.38 MB) suggests high quality",
              "Quality publisher: Pearson Education",
              "Complete title suggests proper metadata",
              "Quality author info: Martin, Robert C."
            ]
          },
          "book_info": {
            "title": "The Robert C. Martin Clean Code Collection (Collection) (Robert C. Martin Series)",
            "authors": [
              "Martin",
              "Robert C.",
              "Computers - Enterprise Computing Systems"
            ],
            "year": "2011",
            "publisher": "Pearson Education",
            "size": "8.38 MB",
            "description": null
          },
          "service_used": "zlibrary"
        }
      }
    },
    "execution_time": 3.537770986557007,
    "schema_valid": true,
    "format_correct": true,
    "confidence_analysis": "MISMATCH",
    "overall_status": "PARTIAL",
    "schema_message": "Schema valid",
    "confidence_message": "Expected HIGH, got VERY_HIGH"
  },
  {
    "test_case": {
      "input": "\u0413\u0430\u0440\u0440\u0438 \u041f\u043e\u0442\u0442\u0435\u0440 \u0444\u0438\u043b\u043e\u0441\u043e\u0444\u0441\u043a\u0438\u0439 \u043a\u0430\u043c\u0435\u043d\u044c",
      "expected_format": "txt",
      "expectation": "HIGH",
      "description": "Russian Harry Potter title"
    },
    "execution_result": {
      "success": true,
      "stdout": "{\n  \"status\": \"error\",\n  \"timestamp\": \"2025-08-08T16:16:03.427952\",\n  \"input_format\": \"txt\",\n  \"query_info\": {\n    \"original_input\": \"\u0413\u0430\u0440\u0440\u0438 \u041f\u043e\u0442\u0442\u0435\u0440 \u0444\u0438\u043b\u043e\u0441\u043e\u0444\u0441\u043a\u0438\u0439 \u043a\u0430\u043c\u0435\u043d\u044c\",\n    \"extracted_query\": \"\u0413\u0430\u0440\u0440\u0438 \u041f\u043e\u0442\u0442\u0435\u0440 \u0444\u0438\u043b\u043e\u0441\u043e\u0444\u0441\u043a\u0438\u0439 \u043a\u0430\u043c\u0435\u043d\u044c\"\n  },\n  \"result\": {\n    \"error\": \"enhanced_service_error\",\n    \"message\": \"Enhanced service error: 'NoneType' object has no attribute 'lower'\"\n  }\n}\n",
      "stderr": "",
      "returncode": 0,
      "parsed_json": {
        "status": "error",
        "timestamp": "2025-08-08T16:16:03.427952",
        "input_format": "txt",
        "query_info": {
          "original_input": "\u0413\u0430\u0440\u0440\u0438 \u041f\u043e\u0442\u0442\u0435\u0440 \u0444\u0438\u043b\u043e\u0441\u043e\u0444\u0441\u043a\u0438\u0439 \u043a\u0430\u043c\u0435\u043d\u044c",
          "extracted_query": "\u0413\u0430\u0440\u0440\u0438 \u041f\u043e\u0442\u0442\u0435\u0440 \u0444\u0438\u043b\u043e\u0441\u043e\u0444\u0441\u043a\u0438\u0439 \u043a\u0430\u043c\u0435\u043d\u044c"
        },
        "result": {
          "error": "enhanced_service_error",
          "message": "Enhanced service error: 'NoneType' object has no attribute 'lower'"
        }
      }
    },
    "execution_time": 4.072547912597656,
    "schema_valid": true,
    "format_correct": true,
    "confidence_analysis": "N/A",
    "overall_status": "FAIL",
    "schema_message": "Schema valid",
    "confidence_message": "Response not successful"
  },
  {
    "test_case": {
      "input": "a",
      "expected_format": "txt",
      "expectation": "ANY",
      "description": "Single character"
    },
    "execution_result": {
      "success": true,
      "stdout": "{\n  \"status\": \"error\",\n  \"timestamp\": \"2025-08-08T16:16:07.473949\",\n  \"input_format\": \"txt\",\n  \"query_info\": {\n    \"original_input\": \"a\",\n    \"extracted_query\": \"a\"\n  },\n  \"result\": {\n    \"error\": \"search_failed\",\n    \"message\": \"Search service error: Search command failed\"\n  }\n}\n",
      "stderr": "",
      "returncode": 0,
      "parsed_json": {
        "status": "error",
        "timestamp": "2025-08-08T16:16:07.473949",
        "input_format": "txt",
        "query_info": {
          "original_input": "a",
          "extracted_query": "a"
        },
        "result": {
          "error": "search_failed",
          "message": "Search service error: Search command failed"
        }
      }
    },
    "execution_time": 1.7954375743865967,
    "schema_valid": true,
    "format_correct": true,
    "confidence_analysis": "N/A",
    "overall_status": "FAIL",
    "schema_message": "Schema valid",
    "confidence_message": "Response not successful"
  },
  {
    "test_case": {
      "input": "some very random book that probably doesnt exist in any library",
      "expected_format": "txt",
      "expectation": "LOW",
      "description": "Long random text"
    },
    "execution_result": {
      "success": true,
      "stdout": "{\n  \"status\": \"error\",\n  \"timestamp\": \"2025-08-08T16:16:09.270806\",\n  \"input_format\": \"txt\",\n  \"query_info\": {\n    \"original_input\": \"some very random book that probably doesnt exist in any library\",\n    \"extracted_query\": \"some very random book that probably doesnt exist in any\"\n  },\n  \"result\": {\n    \"error\": \"search_failed\",\n    \"message\": \"Search service error: Traceback (most recent call last):\\n  File \\\"<string>\\\", line 9, in <module>\\nModuleNotFoundError: No module named 'book_sources.flibusta_source'\\n\"\n  }\n}\n",
      "stderr": "",
      "returncode": 0,
      "parsed_json": {
        "status": "error",
        "timestamp": "2025-08-08T16:16:09.270806",
        "input_format": "txt",
        "query_info": {
          "original_input": "some very random book that probably doesnt exist in any library",
          "extracted_query": "some very random book that probably doesnt exist in any"
        },
        "result": {
          "error": "search_failed",
          "message": "Search service error: Traceback (most recent call last):\n  File \"<string>\", line 9, in <module>\nModuleNotFoundError: No module named 'book_sources.flibusta_source'\n"
        }
      }
    },
    "execution_time": 3.010951519012451,
    "schema_valid": true,
    "format_correct": true,
    "confidence_analysis": "N/A",
    "overall_status": "FAIL",
    "schema_message": "Schema valid",
    "confidence_message": "Response not successful"
  },
  {
    "test_case": {
      "input": "/path/to/book/cover.jpg",
      "expected_format": "image",
      "expectation": "ERROR",
      "description": "Image input (not implemented)"
    },
    "execution_result": {
      "success": true,
      "stdout": "{\n  \"status\": \"error\",\n  \"timestamp\": \"2025-08-08T16:16:12.273774\",\n  \"input_format\": \"txt\",\n  \"query_info\": {\n    \"original_input\": \"/path/to/book/cover.jpg\",\n    \"extracted_query\": \"path to book cover jpg\"\n  },\n  \"result\": {\n    \"error\": \"search_failed\",\n    \"message\": \"Search service error: Traceback (most recent call last):\\n  File \\\"<string>\\\", line 9, in <module>\\nModuleNotFoundError: No module named 'book_sources.flibusta_source'\\n\"\n  }\n}\n",
      "stderr": "",
      "returncode": 0,
      "parsed_json": {
        "status": "error",
        "timestamp": "2025-08-08T16:16:12.273774",
        "input_format": "txt",
        "query_info": {
          "original_input": "/path/to/book/cover.jpg",
          "extracted_query": "path to book cover jpg"
        },
        "result": {
          "error": "search_failed",
          "message": "Search service error: Traceback (most recent call last):\n  File \"<string>\", line 9, in <module>\nModuleNotFoundError: No module named 'book_sources.flibusta_source'\n"
        }
      }
    },
    "execution_time": 2.97017502784729,
    "schema_valid": true,
    "format_correct": false,
    "confidence_analysis": "N/A",
    "overall_status": "FAIL",
    "schema_message": "Schema valid",
    "confidence_message": "Response not successful"
  }
]