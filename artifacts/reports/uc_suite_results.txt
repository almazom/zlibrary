🚀 Starting Complete UC Test Suite Run
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

UC Tests Found:
• UC1: Book Search
• UC3: URL to EPUB 
• UC4: Duplicate Detection
• UC5: Quality Filtering
• UC6: PDF Fallback
• UC9: Account Monitoring
• UC11: Account Exhaustion
• UC12: Advanced Switching

Starting execution...
⏰ 10:35:01 MSK
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
UC1: BOOK SEARCH TEST
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
{"status": "error", "timestamp": "2025-08-09T10:35:29.917061", "input_format": "txt", "query_info": {"original_input": "Средневековое мышление Ален де Либера ", "extracted_query": "Средневековое мышление Ален де Либера "}, "result": {"error": "search_failed", "message": "No working accounts found"}}
{"status": "error", "timestamp": "2025-08-09T10:35:36.323580", "input_format": "txt", "query_info": {"original_input": "NotExistingBookTitle123456789 ", "extracted_query": "NotExistingBookTitle123456789 "}, "result": {"error": "search_failed", "message": "No working accounts found"}}
UC1: ✅ COMPLETED
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
UC11: ACCOUNT EXHAUSTION TEST
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  Account 1: 8/8 downloads
  Account 2: 4/4 downloads
  Account 3: 10/10 downloads
  ✅ SUCCESS - Account 1 (7 left)
  ✅ SUCCESS - Account 1 (6 left)
  ✅ SUCCESS - Account 1 (5 left)
  ✅ SUCCESS - Account 1 (4 left)
  ✅ SUCCESS - Account 1 (3 left)
  ✅ SUCCESS - Account 1 (2 left)
  ✅ SUCCESS - Account 1 (1 left)
  ✅ SUCCESS - Account 1 (0 left)
  ⚡ SWITCH: Account 1 → Account 2
  ✅ SUCCESS - Account 2 (3 left)
  ✅ SUCCESS - Account 2 (2 left)
  ✅ SUCCESS - Account 2 (1 left)
  ✅ SUCCESS - Account 2 (0 left)
  ⚡ SWITCH: Account 2 → Account 3
  ✅ SUCCESS - Account 3 (9 left)
  ✅ SUCCESS - Account 3 (8 left)
  ✅ SUCCESS - Account 3 (7 left)
UC11: ✅ COMPLETED
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
UC12: ADVANCED CONCURRENT TEST
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    ✅ Successful: 5/5
    ❌ Failed: 0/5
    ⚡ Switches: 0
    📈 Throughput: 17.6 books/sec
    ✅ Successful: 10/10
    ❌ Failed: 0/10
    ⚡ Switches: 1
    📈 Throughput: 27.6 books/sec
    ✅ Successful: 22/22
    ❌ Failed: 0/22
    ⚡ Switches: 2
    📈 Throughput: 58.4 books/sec
    ✅ Successful: 22/25
    ❌ Failed: 3/25
    ⚡ Switches: 2
UC12: ✅ COMPLETED
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
NEW UC TESTS IMPLEMENTATION
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

UC13: NETWORK RESILIENCE
UC13.1: DNS FALLBACK TEST
📊 Scenario: DNS Resolution Failure
  ❌ DNS Failed: z-library.sk (attempt 1)
📊 Using cached DNS:
📊 Scenario: Multiple Failures → Circuit Trip
  💥 Circuit breaker: TRIPPED → OPEN
  ⛔ Circuit breaker: OPEN (wait 5.0s)
  ✅ Cache HIT - returned cached data
📈 Key Findings:
  1. DNS fallback through 4 servers works

UC14: CACHE PERSISTENCE
💾 UC14: Cache Persistence Tests
  ✅ Cache HIT: search/f36a512fff292631 (age: 0s, hits: 1)
  ✅ Cache HIT: account/459ccd99b567a110 (age: 0s, hits: 1)
  ✅ Cache HIT: account/09be2c49b47a764e (age: 0s, hits: 1)
  ✅ Cache HIT: account/6f1ff97ab667a5d5 (age: 0s, hits: 1)
  ❌ Cache MISS: search/6663b689ee5429cd
  ✅ Cache HIT: search/b4b9de2310d749c4 (age: 0s, hits: 1)
  ✅ Cache HIT: search/6dd75886834dc7d9 (age: 0s, hits: 1)
  ❌ Cache MISS: search/9a46b20d2acec908
  ❌ Cache MISS: search/ddd957bd15f263a7

UC15: RATE LIMIT HANDLING
    class AccountRateLimiter:
  File "tests/UC15_rate_limit_test.py", line 118, in AccountRateLimiter
